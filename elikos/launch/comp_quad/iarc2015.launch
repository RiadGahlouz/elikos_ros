<launch>

    <!-- CAMERA -->
    <node pkg="camera1394" type="camera1394_node" name="camera1394">
         <param name="guid" value="00b09d0100db6e40" />
         <param name="video_mode" value="640x480_mono8" />
         <param name="frame_rate" value="60" />
         <param name="bayer_pattern" value="rggb" />
         <param name="bayer_mode" value="AHD" />
    </node>

    <!-- MAVROS -->
    <arg name="fcu_url" default="/dev/ttyUSB0:921600" />
    <arg name="gcs_url" default="udp://localhost:14556@localhost:14550" />
    <arg name="tgt_system" default="1" />
    <arg name="tgt_component" default="1" />

    <node pkg="mavros" type="mavros_node" name="mavros" required="true" clear_params="true" output="screen">
        <rosparam command="load" file="$(find mavros)/launch/px4_pluginlists.yaml" />
        <rosparam command="load" file="$(find elikos_ros)/param/px4_config.yaml" />

        <param name="fcu_url" value="$(arg fcu_url)" />
        <param name="gcs_url" value="$(arg gcs_url)" />
        <param name="tgt_system" value="$(arg tgt_system)" />
        <param name="tgt_component" value="$(arg tgt_component)" />
        <param name="setpoint_position/listen_tf" value="true" />
    </node>

    <!-- ROBOT DETECTION -->
    <node name="robotDetect" pkg="elikos_ros" type="tracking" output="screen">
    	<rosparam command="load" file="$(find elikos_ros)/param/config.yaml"/>
	</node>

    <!-- NAVIGATOR -->
	<node name="navigator" pkg="elikos_ros" type="navigator" output="screen"/>

</launch>
